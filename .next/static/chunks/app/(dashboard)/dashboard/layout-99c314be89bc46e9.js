(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2],{127:(e,t,r)=>{Promise.resolve().then(r.bind(r,1699))},283:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,O:()=>u});var s=r(5155),a=r(2115),n=r(6391),l=r(5695);let c=(0,a.createContext)(void 0),i=["/","/login","/register"];function u(e){let{children:t}=e,[r,u]=(0,a.useState)(!1),o=(0,l.usePathname)(),h=(0,l.useRouter)();return(0,a.useEffect)(()=>{(async()=>{if(!i.includes(o))try{let e=await n.S.get("/verify-token");u(e.data.authenticated),e.data.authenticated||h.push("/")}catch(e){u(!1),h.push("/")}})()},[o,h]),(0,s.jsx)(c.Provider,{value:{isAuthenticated:r,setIsAuthenticated:u},children:t})}function o(){let e=(0,a.useContext)(c);if(void 0===e)throw Error("useAuth debe ser usado dentro de un AuthProvider");return e}},1699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(5155);r(2115);var a=r(6874),n=r.n(a),l=r(283),c=r(6391),i=r(5695);let u=()=>{let{setIsAuthenticated:e}=(0,l.A)(),t=(0,i.useRouter)();return{logout:async()=>{try{await c.S.post("/logout"),e(!1),t.push("/")}catch(e){throw e}}}};function o(){let{isAuthenticated:e}=(0,l.A)(),{logout:t}=u(),r=async e=>{e.preventDefault();try{await t()}catch(e){console.error("Error al cerrar sesi\xf3n:",e)}};return(0,s.jsx)("header",{className:" text-white py-4 px-6 shadow-md",children:(0,s.jsxs)("div",{className:"h-[5vh] container mx-auto flex items-center justify-between",children:[(0,s.jsx)(n(),{href:e?"/dashboard":"/",className:"flex items-center gap-2",children:(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Cine Conecta"})}),(0,s.jsx)("nav",{children:(0,s.jsx)("ul",{className:"flex space-x-6",children:e?(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:r,className:"hover:text-slate-300 transition text-xl cursor-pointer",children:"Logout"})}):(0,s.jsx)("li",{children:(0,s.jsx)(n(),{href:"/",className:"hover:text-slate-300 transition text-xl",children:"Login"})})})})]})})}function h(e){let{children:t}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex flex-col min-h-screen ",children:[(0,s.jsx)(o,{}),(0,s.jsx)("main",{className:" flex flex-col tems-center justify-center px-4 py-6 ",children:t})]})})}},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},6391:(e,t,r)=>{"use strict";r.d(t,{S:()=>s});let s=r(3464).A.create({baseURL:"https://backend-alpha-pearl-61.vercel.app/api",withCredentials:!0})}},e=>{var t=t=>e(e.s=t);e.O(0,[464,874,441,684,358],()=>t(127)),_N_E=e.O()}]);