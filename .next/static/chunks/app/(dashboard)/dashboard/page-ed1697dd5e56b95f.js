(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[337],{275:(r,e,o)=>{"use strict";o.d(e,{default:()=>c});var a=o(5155),t=o(2115);o(2695);var s=o(6391);let n={async getUsers(){try{return await s.S.get("/users",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}})}catch(o){if(o&&"object"==typeof o&&o.isAxiosError){var r,e;throw Error((null===(e=o.response)||void 0===e?void 0:null===(r=e.data)||void 0===r?void 0:r.error)||"Ocurri\xf3 un error al obtener los usuarios.")}throw Error("Ocurri\xf3 un error inesperado.")}}};var i=o(4490);let l=()=>{let[r,e]=(0,t.useState)([]),{loading:o,callEndpoint:a}=(0,i.A)(),s=(0,t.useCallback)(async()=>{try{let r=await a({call:n.getUsers()});e(r.data||[])}catch(r){if(r instanceof Error&&"AbortError"===r.name)return}},[a]);return(0,t.useEffect)(()=>{s()},[s]),{users:r,loading:o,fetchUsers:s}},c=()=>{let{users:r,loading:e}=l();return(0,a.jsxs)("div",{className:"dashboard-users",children:[(0,a.jsx)("h2",{children:"Dashboard Users"}),(0,a.jsx)("div",{className:"users-container",children:e?(0,a.jsx)("p",{children:"Cargando usuarios..."}):r.length>0?(0,a.jsx)("ul",{children:r.map(r=>(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:r.name})," - ",r.email]},r.id))}):(0,a.jsx)("p",{children:"No se encontraron usuarios."})})]})}},1590:(r,e,o)=>{Promise.resolve().then(o.bind(o,275))},2695:(r,e,o)=>{"use strict";var a=o(6391),t=o(4752),s=o.n(t);let n=(r,e)=>{if(e){s().fire("Error",e,"error");return}switch(r){case 400:s().fire("Solicitud incorrecta","Verifica los datos enviados.","warning");break;case 401:s().fire("No autorizado","Tu sesi\xf3n ha expirado o es inv\xe1lida.","error");break;case 403:s().fire("Prohibido","No tienes permisos para esta acci\xf3n.","error");break;case 404:s().fire("No encontrado","Recurso no disponible o incorrecto.","info");break;case 500:s().fire("Error del servidor","Intenta m\xe1s tarde.","error");break;default:s().fire("Error inesperado","Ocurri\xf3 un error no controlado.","error")}};a.S.interceptors.response.use(r=>r,r=>{var e,o;return(null==r?void 0:null===(e=r.response)||void 0===e?void 0:e.status)?n(r.response.status,null===(o=r.response.data)||void 0===o?void 0:o.error):s().fire("Sin conexi\xf3n","Revisa tu internet o intenta m\xe1s tarde.","error"),Promise.reject(r)})},4490:(r,e,o)=>{"use strict";o.d(e,{A:()=>t});var a=o(2115);function t(){let[r,e]=(0,a.useState)(!1),[o,t]=(0,a.useState)(null),[s,n]=(0,a.useState)(null),i=(0,a.useCallback)(async r=>{s&&s.abort(),n(new AbortController),e(!0),t(null);try{return await r.call}catch(r){if(r instanceof Error&&"AbortError"===r.name)throw console.log("Request aborted"),r;throw t(r instanceof Error?r:Error("An error occurred")),r}finally{e(!1),n(null)}},[]),l=(0,a.useCallback)(()=>{s&&s.abort()},[s]);return(0,a.useEffect)(()=>()=>{s&&s.abort()},[s]),{loading:r,error:o,callEndpoint:i,cancelEndpoint:l}}},6391:(r,e,o)=>{"use strict";o.d(e,{S:()=>a});let a=o(3464).A.create({baseURL:"http://localhost:8080/api",withCredentials:!0})}},r=>{var e=e=>r(r.s=e);r.O(0,[320,464,441,684,358],()=>e(1590)),_N_E=r.O()}]);