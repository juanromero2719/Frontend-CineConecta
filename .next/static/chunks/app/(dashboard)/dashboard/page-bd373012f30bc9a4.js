(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[337],{275:(r,e,a)=>{"use strict";a.d(e,{default:()=>c});var t=a(5155),o=a(2115);a(2695);var s=a(6391);let n={async getUsers(){try{return await s.S.get("/users",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}})}catch(a){if(a&&"object"==typeof a&&a.isAxiosError){var r,e;throw Error((null===(e=a.response)||void 0===e?void 0:null===(r=e.data)||void 0===r?void 0:r.error)||"Ocurri\xf3 un error al obtener los usuarios.")}throw Error("Ocurri\xf3 un error inesperado.")}}};var i=a(4490);let l=()=>{let[r,e]=(0,o.useState)([]),{loading:a,callEndpoint:t}=(0,i.A)(),s=(0,o.useCallback)(async()=>{try{let r=await t({call:n.getUsers()});e(r.data||[])}catch(r){if(r instanceof Error&&"AbortError"===r.name)return}},[t]);return(0,o.useEffect)(()=>{s()},[s]),{users:r,loading:a,fetchUsers:s}},c=()=>{let{users:r,loading:e}=l();return(0,t.jsxs)("div",{className:"dashboard-users text-white",children:[(0,t.jsx)("h2",{children:"Dashboard Users"}),(0,t.jsx)("div",{className:"users-container",children:e?(0,t.jsx)("p",{children:"Cargando usuarios..."}):r.length>0?(0,t.jsx)("ul",{children:r.map(r=>(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:r.name})," - ",r.email]},r.id))}):(0,t.jsx)("p",{children:"No se encontraron usuarios."})})]})}},1590:(r,e,a)=>{Promise.resolve().then(a.bind(a,275))},2695:(r,e,a)=>{"use strict";var t=a(6391),o=a(4752),s=a.n(o);let n=(r,e)=>{if(e){s().fire("Error",e,"error");return}switch(r){case 400:s().fire("Solicitud incorrecta","Verifica los datos enviados.","warning");break;case 401:s().fire("No autorizado","Tu sesi\xf3n ha expirado o es inv\xe1lida.","error");break;case 403:s().fire("Prohibido","No tienes permisos para esta acci\xf3n.","error");break;case 404:s().fire("No encontrado","Recurso no disponible o incorrecto.","info");break;case 500:s().fire("Error del servidor","Intenta m\xe1s tarde.","error");break;default:s().fire("Error inesperado","Ocurri\xf3 un error no controlado.","error")}};t.S.interceptors.response.use(r=>r,r=>{var e,a;return(null==r?void 0:null===(e=r.response)||void 0===e?void 0:e.status)?n(r.response.status,null===(a=r.response.data)||void 0===a?void 0:a.error):s().fire("Sin conexi\xf3n","Revisa tu internet o intenta m\xe1s tarde.","error"),Promise.reject(r)})},4490:(r,e,a)=>{"use strict";a.d(e,{A:()=>o});var t=a(2115);function o(){let[r,e]=(0,t.useState)(!1),[a,o]=(0,t.useState)(null),[s,n]=(0,t.useState)(null),i=(0,t.useCallback)(async r=>{s&&s.abort(),n(new AbortController),e(!0),o(null);try{return await r.call}catch(r){if(r instanceof Error&&"AbortError"===r.name)throw r;throw o(r instanceof Error?r:Error("An error occurred")),r}finally{e(!1),n(null)}},[]),l=(0,t.useCallback)(()=>{s&&s.abort()},[s]);return(0,t.useEffect)(()=>()=>{s&&s.abort()},[s]),{loading:r,error:a,callEndpoint:i,cancelEndpoint:l}}},6391:(r,e,a)=>{"use strict";a.d(e,{S:()=>t});let t=a(3464).A.create({baseURL:"https://backend-alpha-pearl-61.vercel.app/api",withCredentials:!0})}},r=>{var e=e=>r(r.s=e);r.O(0,[320,464,441,684,358],()=>e(1590)),_N_E=r.O()}]);