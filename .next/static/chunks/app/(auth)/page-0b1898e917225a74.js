(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[670],{100:(e,t,a)=>{Promise.resolve().then(a.bind(a,5365))},5365:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var r=a(5155),s=a(2115),n=a(9923),l=a(2657),o=a(8749);let i=e=>{let{label:t,name:a,id:n,value:i,onChange:c,readOnly:d=!1,type:u="text",error:p,maxDate:x,autoComplete:m="on",required:g=!1}=e,[b,h]=(0,s.useState)(!1),[f,w]=(0,s.useState)(!1),y="email"===u;return(0,r.jsxs)("div",{className:"relative w-full focus-within:border-green-700",children:[(0,r.jsx)("label",{className:"\n          absolute left-3 px-1 transition-all pointer-events-none\n          ".concat(b||i?"top-[-10px] text-xs text-white":"top-3 text-md","\n          ").concat(p?"text-red-900 bg-red-50":"text-gray-500 bg-ccGray","\n        "),children:t}),(0,r.jsx)("input",{type:"password"===u?f?"text":"password":u,name:a,value:i,id:n,onChange:c,readOnly:d,onFocus:()=>h(!0),onBlur:()=>h(!!i),autoComplete:m,spellCheck:"password"===u?"false":"true",inputMode:y?"email":void 0,pattern:y?"[^@\\s]+@[^@\\s]+\\.[^@\\s]+":void 0,required:g,..."date"===u&&{max:x},className:"\n          w-full p-3 rounded-xl appearance-none placeholder-transparent transition-all cursor-pointer\n          ".concat(p?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700 focus:ring-red-500 focus:border-red-500":"bg-transparent border border-ccLightGray ","\n        ")}),"password"===u&&(0,r.jsx)("button",{type:"button",onClick:()=>w(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:f?(0,r.jsx)(l.A,{size:20}):(0,r.jsx)(o.A,{size:20})})]})},c=a(3464).A.create({baseURL:"https://backend-alpha-pearl-61.vercel.app/api/"}),d={loginUser:async e=>c.post("login",e,{headers:{"Content-Type":"application/json"}})},u=()=>{let e;let[t,a]=(0,s.useState)(!1),r=async t=>{t.controller&&(e=t.controller),a(!0);let r={};try{r=await t.call}catch(e){throw a(!1),e}return a(!1),r},n=()=>{a(!1),e&&e.abort()};return(0,s.useEffect)(()=>()=>{n()},[]),{loading:t,callEndpoint:r}},p=()=>{let[e,t]=(0,s.useState)(null),{loading:a,callEndpoint:r}=u();return{loginUser:async(e,a)=>{let s=await r({call:d.loginUser({email:e,password:a})});return t(s.data||null),s.data},loading:a,loginData:e}},x=()=>{let[e,t]=(0,s.useState)(""),[a,n]=(0,s.useState)(""),{loginUser:l,loading:o}=p(),c=async t=>{t.preventDefault();try{let t=await l(e,a);console.log("Login exitoso. Token recibido:",t.token)}catch(e){console.error("Error al iniciar sesi\xf3n:",e)}};return(0,r.jsx)("div",{className:"bg-transparent px-8 py-2 max-w-md w-full",children:(0,r.jsxs)("form",{onSubmit:c,children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(i,{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),label:"Correo electr\xf3nico",required:!0})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(i,{id:"password",type:"password",value:a,onChange:e=>n(e.target.value),label:"Contrase\xf1a",required:!0})}),(0,r.jsx)("button",{type:"submit",disabled:o,className:"w-full text-lg bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:o?"Cargando...":"Ingresar"})]})})},m=e=>{let{onSubmit:t}=e,[a,n]=(0,s.useState)({name:"",email:"",password:""}),l=e=>{let{name:t,value:a}=e.target;n(e=>({...e,[t]:a}))};return(0,r.jsx)("div",{className:"max-w-md w-full mx-auto bg-transparent rounded-lg  px-8 py-2",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(a)},children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(i,{id:"name",type:"text",name:"name",value:a.name,onChange:l,label:"Nombre de usuario",required:!0})}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(i,{id:"email",type:"email",name:"email",value:a.email,onChange:l,label:"Correo electr\xf3nico",required:!0})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(i,{id:"password",type:"password",name:"password",value:a.password,onChange:l,label:"Contrase\xf1a",required:!0})}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-lg text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Registrarse"})]})})};function g(){let[e,t]=(0,s.useState)("login"),a=e=>{t(e)};return(0,r.jsx)("div",{className:"min-h-[86vh] flex items-center justify-center bg-ccDarkGray",children:(0,r.jsxs)("div",{className:"bg-ccGray p-8 rounded-xl shadow-md w-full max-w-lg border border-ccLightGray",children:[(0,r.jsxs)("div",{className:"relative flex items-center justify-between px-4 py-1 bg-ccLightGray rounded-lg text-white",children:[(0,r.jsx)(n.P.div,{layout:!0,transition:{type:"spring",stiffness:300,damping:30},className:"absolute top-1 bottom-1 left-1 w-1/3 bg-white rounded-lg z-0",style:{left:"login"===e?"10%":"56%",transform:"login"===e?"translateX(2%)":"translateX(-40px)"}}),(0,r.jsx)("button",{onClick:()=>a("login"),className:"w-1/2 text-lg py-2 px-4 z-10 transition-colors duration-300 ".concat("login"===e?"text-black ":"text-white"),children:"Iniciar sesi\xf3n"}),(0,r.jsx)("button",{onClick:()=>a("register"),className:"w-1/2 text-lg py-2 px-4 z-10 transition-colors duration-300 ".concat("register"===e?"text-black":"text-white"),children:"Registrarse"})]}),(0,r.jsx)("div",{className:"mt-6 h-[300px] overflow-hidden",children:"login"===e?(0,r.jsx)(x,{}):(0,r.jsx)(m,{onSubmit:e=>{console.log("Register:",e)}})})]})})}function b(){return(0,r.jsx)(g,{})}}},e=>{var t=t=>e(e.s=t);e.O(0,[416,441,684,358],()=>t(100)),_N_E=e.O()}]);