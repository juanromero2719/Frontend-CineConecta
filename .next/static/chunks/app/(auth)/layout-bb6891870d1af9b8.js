(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97],{283:(e,t,r)=>{"use strict";r.d(t,{A:()=>h,O:()=>o});var s=r(5155),a=r(2115),n=r(6391),c=r(5695);let l=(0,a.createContext)(void 0),i=["/"];function o(e){let{children:t}=e,[r,o]=(0,a.useState)(!1),h=(0,c.usePathname)();return(0,a.useEffect)(()=>{(async()=>{if(!i.includes(h))try{let e=await n.S.get("/verify-token");o(e.data.authenticated)}catch(e){o(!1)}})()},[h]),(0,s.jsx)(l.Provider,{value:{isAuthenticated:r,setIsAuthenticated:o},children:t})}function h(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useAuth debe ser usado dentro de un AuthProvider");return e}},615:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(5155);r(2115);var a=r(2122);function n(e){let{children:t}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex flex-col min-h-screen bg-ccDarkGray",children:[(0,s.jsx)(a.A,{}),(0,s.jsx)("main",{className:" flex flex-col tems-center justify-center px-4 py-6 bg-ccDarkGray",children:t})]})})}},2122:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var s=r(5155);r(2115);var a=r(6874),n=r.n(a),c=r(283),l=r(6391),i=r(5695);let o=()=>{let{setIsAuthenticated:e}=(0,c.A)(),t=(0,i.useRouter)();return{logout:async()=>{try{await l.S.post("/logout"),e(!1),t.push("/")}catch(e){throw console.error("Error al cerrar sesi\xf3n:",e),e}}}};function h(){let{isAuthenticated:e}=(0,c.A)(),{logout:t}=o(),r=async e=>{e.preventDefault();try{await t()}catch(e){console.error("Error al cerrar sesi\xf3n:",e)}};return(0,s.jsx)("header",{className:"bg-ccGray text-white py-4 px-6 shadow-md",children:(0,s.jsxs)("div",{className:"h-[5vh] container mx-auto flex items-center justify-between",children:[(0,s.jsx)(n(),{href:e?"/dashboard":"/",className:"flex items-center gap-2",children:(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Cine Conecta"})}),(0,s.jsx)("nav",{children:(0,s.jsx)("ul",{className:"flex space-x-6",children:e?(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:r,className:"hover:text-slate-300 transition text-xl cursor-pointer",children:"Logout"})}):(0,s.jsx)("li",{children:(0,s.jsx)(n(),{href:"/",className:"hover:text-slate-300 transition text-xl",children:"Login"})})})})]})})}},6391:(e,t,r)=>{"use strict";r.d(t,{S:()=>s});let s=r(3464).A.create({baseURL:"http://localhost:8080/api",withCredentials:!0})},7937:(e,t,r)=>{Promise.resolve().then(r.bind(r,615))}},e=>{var t=t=>e(e.s=t);e.O(0,[464,244,441,684,358],()=>t(7937)),_N_E=e.O()}]);